<!DOCTYPE html>
<html lang="en"><head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="day2-2Slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="day2-2Slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="day2-2Slides_files/libs/quarto-html/popper.min.js"></script>
<script src="day2-2Slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="day2-2Slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="day2-2Slides_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="day2-2Slides_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="day2-2Slides_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.554">

  <title>Session 2.2</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="day2-2Slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="day2-2Slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="day2-2Slides_files/libs/revealjs/dist/theme/quarto.css">
  <link href="day2-2Slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="day2-2Slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="day2-2Slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="day2-2Slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
  
  <script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Session 2.2</h1>
  <p class="subtitle">Saving and analysing data</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="welcome-back" class="title-slide slide level1 smaller center">
<h1>Welcome back!!</h1>
<ul>
<li class="fragment">Welcome back!!</li>
<li class="fragment">In the last few sessions we’ve been getting you up to speed with the <em>basics</em> of python and <code>pandas</code></li>
<li class="fragment">We’ve covered a lot of ground, but we’ve also been trying to keep it simple.
<ul>
<li class="fragment">Data types like:
<ul>
<li class="fragment"><code>int</code>, <code>float</code>, <code>str</code>, <code>bool</code></li>
<li class="fragment"><code>list</code>, <code>tuple</code>, <code>dict</code></li>
<li class="fragment"><code>pathlib.Path</code>, <code>pandas.DataFrame</code></li>
</ul></li>
<li class="fragment">functions, methods, and attributes</li>
<li class="fragment"><code>for</code> loops</li>
</ul></li>
</ul>
</section>

<section id="pandas-recap" class="title-slide slide level1 smaller center">
<h1><code>Pandas recap</code></h1>
<ul>
<li class="fragment">We’ve also been introducing you to the <code>pandas</code> module</li>
<li class="fragment">We’ve shown you how to create <code>DataFrames</code> from scratch</li>
<li class="fragment">How to <code>read</code> in data from <code>.csv</code> and <code>.xlsx</code> files
<ul>
<li class="fragment"><code>pd.read_csv()</code>, <code>pd.read_excel()</code></li>
</ul></li>
<li class="fragment">We’ve shown you how to <code>clean</code> your data
<ul>
<li class="fragment"><code>df.dropna()</code>, <code>df.replace()</code></li>
</ul></li>
<li class="fragment">We’ve shown you how to <code>examine</code> your data
<ul>
<li class="fragment"><code>df.head()</code>, <code>df.tail()</code>, <code>df.shape</code>, <code>df.columns</code></li>
</ul></li>
<li class="fragment">We’ve shown you how to <code>slice</code> your data
<ul>
<li class="fragment"><code>df.iloc[]</code>, <code>df.loc[]</code>, <code>df[]</code></li>
<li class="fragment"><code>df[df['column'] == 'value']</code></li>
</ul></li>
</ul>
</section>

<section id="pandas-recap-1" class="title-slide slide level1 smaller center">
<h1><code>Pandas recap</code></h1>
<ul>
<li class="fragment">The next thing for you to do is practice ‘recalling’ this stuff so…</li>
</ul>
<div class="fragment">
<p><strong>It’s time for a quiz!</strong></p>
<ul>
<li class="fragment">You know where to go!</li>
<li class="fragment">You know they’re not graded</li>
</ul>
</div>
</section>

<section id="set-up-for-the-session" class="title-slide slide level1 smaller center">
<h1>Set up for the session</h1>
<ul>
<li class="fragment">This session we’re going to ‘finish’ up the introductory python part of these workshops by generating some descriptive statistics, simple plots, and saving output.</li>
<li class="fragment">But first things first - we need to import the modules we’ll need for this session</li>
</ul>
<div class="fragment">
<div id="29d1ea22" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="co"># import the needed modules in this cell</span></span>
<span id="cb1-2"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd <span class="co"># for working with dataframes</span></span>
<span id="cb1-3"><a href=""></a><span class="im">import</span> pathlib <span class="im">as</span> pl <span class="co"># for working with file paths</span></span>
<span id="cb1-4"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np <span class="co"># to let me use the np.nan value in the next cell. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>

<section id="set-up-for-the-session-1" class="title-slide slide level1 smaller center">
<h1>Set up for the session</h1>
<ul>
<li class="fragment">Excellent! Modules imported and now we need some data.</li>
<li class="fragment">Let’s go through the cell below to create the <code>movies_df</code> so that we have some data to work with.</li>
</ul>
</section>

<section id="set-up-for-the-session-2" class="title-slide slide level1 smaller center">
<h1>Set up for the session</h1>
<div id="f3d671c5" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href=""></a><span class="co"># initialise some list objects that contains our data, this could also be a list of lists, or a dict of lists for example</span></span>
<span id="cb2-2"><a href=""></a>director <span class="op">=</span> [<span class="st">'John Carpenter'</span>, <span class="st">''</span>, <span class="st">'Nicolas Winding Refn'</span>, <span class="st">'Matthijs van Heijningen'</span>, <span class="st">'Damien Chazelle'</span>, <span class="st">'Dennis Villanueve'</span>, <span class="st">'Coen Brothers'</span>, <span class="st">'Kelly Asbury'</span>, <span class="st">'Edgar Wright'</span>, <span class="st">'Coen Brothers'</span>]</span>
<span id="cb2-3"><a href=""></a>names <span class="op">=</span> [<span class="st">'The Thing'</span>, <span class="st">'Blade Runner 2049'</span>, <span class="st">'Drive'</span>,  <span class="st">'The Thing'</span>, <span class="st">'Whiplash'</span>, <span class="st">'Arrival'</span>, <span class="st">'No Country for Old Men'</span>, <span class="st">'Shrek 2'</span>, <span class="st">'Hot Fuzz'</span>, <span class="st">'Fargo'</span>]</span>
<span id="cb2-4"><a href=""></a>genre <span class="op">=</span> [<span class="st">'Horror'</span>, <span class="st">'Sci-Fi'</span>, <span class="st">'Action'</span>, <span class="st">'Horror'</span>, <span class="st">'Drama'</span>, <span class="st">'Sci-Fi'</span>, <span class="st">'Drama'</span>, <span class="st">'Comedy'</span>, <span class="st">'Comedy'</span>, <span class="st">'Dark Comedy'</span>]</span>
<span id="cb2-5"><a href=""></a>year <span class="op">=</span> [<span class="st">'1982'</span>, <span class="st">'2017'</span>, <span class="st">'2011'</span>, <span class="st">'2011'</span>, <span class="st">'2014'</span>, <span class="st">'2016'</span>, <span class="st">'2007'</span>, <span class="st">'2004'</span>, <span class="st">'2007'</span>, <span class="st">'1996'</span>]</span>
<span id="cb2-6"><a href=""></a>imdb_score <span class="op">=</span> [<span class="dv">82</span>, <span class="dv">80</span>, <span class="dv">78</span>, <span class="dv">62</span>, np.nan, <span class="dv">79</span>, <span class="dv">82</span>, <span class="dv">73</span>, <span class="dv">78</span>, <span class="dv">81</span>]</span>
<span id="cb2-7"><a href=""></a>rt_critics <span class="op">=</span> [<span class="dv">82</span>, <span class="dv">88</span>, <span class="dv">93</span>, <span class="dv">34</span>, np.nan, <span class="dv">94</span>, <span class="dv">93</span>, <span class="dv">89</span>, <span class="dv">91</span>, <span class="dv">94</span>]</span>
<span id="cb2-8"><a href=""></a>rt_fans <span class="op">=</span> [<span class="fl">92.0</span>, <span class="fl">79.0</span>, <span class="fl">42.0</span>, <span class="fl">82.0</span>, <span class="fl">86.0</span>, <span class="fl">69.0</span>, <span class="fl">89.0</span>, <span class="fl">93.0</span>, <span class="fl">94.0</span>, <span class="fl">79.0</span>] </span>
<span id="cb2-9"><a href=""></a>lead <span class="op">=</span> [<span class="st">'male'</span>, <span class="st">'Male'</span>, <span class="st">'m'</span>, <span class="st">'Female'</span>, <span class="st">'m'</span>, <span class="st">'Male'</span>, <span class="st">'fem'</span>, <span class="st">'Orgre'</span>, <span class="st">'Male'</span>, <span class="st">'Male'</span>]</span>
<span id="cb2-10"><a href=""></a></span>
<span id="cb2-11"><a href=""></a></span>
<span id="cb2-12"><a href=""></a></span>
<span id="cb2-13"><a href=""></a><span class="co">#turning those lists into a dataframe</span></span>
<span id="cb2-14"><a href=""></a>movies_df <span class="op">=</span> pd.DataFrame(<span class="co"># opening brackets but moving to new line for readability, note the uppercase D and F in the call</span></span>
<span id="cb2-15"><a href=""></a>    <span class="bu">list</span>(<span class="bu">zip</span>(director, names, genre, year, imdb_score, rt_critics, rt_fans, lead)), <span class="co">#first argument note the comma at the end of it, this is a couple of nested functions</span></span>
<span id="cb2-16"><a href=""></a>    columns <span class="op">=</span> [<span class="st">'Director'</span>, <span class="st">'Movie Title'</span>, <span class="st">'Genre'</span>, <span class="st">'Year of Release'</span>, <span class="st">'ImdB Score'</span>, <span class="st">'Rotten Tomatoes Score'</span>,<span class="st">'Rotten Tomatoes Fan Score'</span>, <span class="st">'Gender of Lead'</span>]<span class="co"># second argument , passing a list to the columns arguments</span></span>
<span id="cb2-17"><a href=""></a>    )<span class="co"># closing the first pair of brackets to complete the function call</span></span>
<span id="cb2-18"><a href=""></a>movies_df.to_csv(<span class="st">'movies_df_2_2.csv'</span>, index<span class="op">=</span><span class="va">False</span>)<span class="co">#saving the dataframe to a csv file</span></span>
<span id="cb2-19"><a href=""></a>movies_df.columns <span class="op">=</span> [i.lower().replace(<span class="st">' '</span>, <span class="st">'_'</span>) <span class="cf">for</span> i <span class="kw">in</span> movies_df.columns] <span class="co">#capitalising the column names</span></span>
<span id="cb2-20"><a href=""></a><span class="co"># cleaning the data a little. </span></span>
<span id="cb2-21"><a href=""></a>movies_df <span class="op">=</span> movies_df.replace(<span class="vs">r'^\s*$'</span>, np.nan, regex<span class="op">=</span><span class="va">True</span>).dropna().reset_index(drop<span class="op">=</span><span class="va">True</span>) <span class="co">#</span></span>
<span id="cb2-22"><a href=""></a><span class="co">#notice how we've 'chained' a bunch of methods together to make all empty cells appear as 'np.nan', then dropping all 'nan' cells then resetting the index</span></span>
<span id="cb2-23"><a href=""></a><span class="co">#that one line of code! Imagine if it was a huge data set</span></span>
<span id="cb2-24"><a href=""></a></span>
<span id="cb2-25"><a href=""></a>movies_df.iloc[:, <span class="op">-</span><span class="dv">1</span>:] <span class="op">=</span> movies_df.iloc[:, <span class="op">-</span><span class="dv">1</span>:].replace(to_replace <span class="op">=</span> [<span class="st">"m"</span>], value <span class="op">=</span> <span class="st">"Male"</span>) <span class="co">#Fixing the male values</span></span>
<span id="cb2-26"><a href=""></a>movies_df.iloc[:, <span class="op">-</span><span class="dv">1</span>:] <span class="op">=</span> movies_df.iloc[:, <span class="op">-</span><span class="dv">1</span>:].replace(to_replace <span class="op">=</span> [<span class="st">"fem"</span>], value <span class="op">=</span> <span class="st">"Female"</span>) <span class="co"># fixing the female values</span></span>
<span id="cb2-27"><a href=""></a>movies_df[<span class="st">'gender_of_lead'</span>] <span class="op">=</span> movies_df[<span class="st">'gender_of_lead'</span>].<span class="bu">str</span>.title()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="ph1" class="title-slide slide level1 smaller center">
<h1>ph1</h1>
<div id="b4c840bd" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>Index(['director', 'movie_title', 'genre', 'year_of_release', 'imdb_score',
       'rotten_tomatoes_score', 'rotten_tomatoes_fan_score', 'gender_of_lead'],
      dtype='object')</code></pre>
</div>
</div>
</section>

<section>
<section id="set-up-for-the-session-3" class="title-slide slide level1 smaller center">
<h1>Set up for the session</h1>
<ul>
<li class="fragment">You can download the data (movies_df_2_2.csv) from Brightspace</li>
<li class="fragment">Use the <code>pd.read_csv()</code> method to import the data into a new <code>DataFrame</code> called <code>movies_df</code></li>
<li class="fragment">Take your time and call me if you get stuck.</li>
<li class="fragment">Once you have the data imported, take a look at the <code>head</code> of the data to make sure it’s all there.</li>
<li class="fragment">Check the <code>shape</code> of the data to see how many rows and columns you have.</li>
<li class="fragment">Use a for loop to print out the <code>columns</code> of the data.</li>
<li class="fragment">From your previous notebook you should have some examples of how to clean the data</li>
<li class="fragment"><code>replace</code> any missing values with <code>np.nan</code> and then <code>drop</code> any rows that contain <code>np.nan</code> values.</li>
<li class="fragment">fix and inconsistencies in the data entries with <code>value_counts()</code> and <code>replace()</code></li>
<li class="fragment">Finally, <code>reset</code> the index of the dataframe so that it starts at 0.</li>
</ul>
</section>
<section id="saving-stuff" class="slide level2 smaller">
<h2>Saving stuff</h2>
<ul>
<li class="fragment">One of the key things we might want to do is <strong>save</strong> things.</li>
<li class="fragment">You might want to save clean data once you’ve made it.
<ul>
<li class="fragment">In this case I’ve made the dataset somewhat from scratch and maybe I want to be able to save it so that we can send it onto other researchers,</li>
<li class="fragment">Or maybe you have done lots of work cleaning a data set and you want to save it so that you can analyse it later.</li>
</ul></li>
<li class="fragment">You might have made a table, or a chart, or a plot that you want to save so that you can use it in a report or a presentation.</li>
</ul>
</section></section>
<section id="saving-data" class="title-slide slide level1 smaller center">
<h1>Saving data</h1>
<ul>
<li class="fragment">Saving your data is a good idea</li>
<li class="fragment">Fortunately the syntax for saving a dataframe is, at the heart of it, really easy.</li>
</ul>
<div class="fragment">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href=""></a><span class="in">```{python}</span></span>
<span id="cb4-2"><a href=""></a><span class="in">#saving a dataframe to a csv file</span></span>
<span id="cb4-3"><a href=""></a><span class="in">name_of_dataframe.to_csv('path\to\where\you\want\to\save\filename.csv')</span></span>
<span id="cb4-4"><a href=""></a></span>
<span id="cb4-5"><a href=""></a><span class="in">#saving a dataframe to an excel file</span></span>
<span id="cb4-6"><a href=""></a><span class="in">name_of_dataframe.to_excel('path\to\where\you\want\to\save\filename.xlsx')</span></span>
<span id="cb4-7"><a href=""></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section>
<section id="saving-data-1" class="title-slide slide level1 smaller center">
<h1>Saving data</h1>
<ul>
<li class="fragment">So above, we have two examples of saving a <code>pandas DataFrame</code>, one to a <code>.csv</code> file and one to a <code>.xlsx</code> file. Let’s just take a second and walk through the actual syntax we used above.
<ol type="1">
<li class="fragment">The first thing we do is call the <code>variable</code> we want to work on, in this case using the name of our dataframe</li>
<li class="fragment">We follow this with a fullstop <code>.</code> because saving a file is <code>method</code></li>
<li class="fragment">This is followed by <code>to_</code> and then the type of file we’re exporting to, so <code>to_csv</code> for csvs or <code>to_excel</code></li>
<li class="fragment">Then we open brackets <code>()</code> and we pass the <code>path</code> to where we want the file to live A. This can be an <code>r-string</code> B. Or it can be a <code>pl.Path()</code> object</li>
</ol></li>
<li class="fragment">But it has to end in <code>\filename.filetype</code> (the filetype is the <code>.csv</code> or <code>.xlsx</code>, also called the <code>suffix</code> of the file)</li>
</ul>
<div class="fragment">
<p>Using an <code>r-string</code> or a <code>Path</code> is often a matter of personal preference, but we would encourage you to work with <code>Path</code> objects more often because they can be a lot more flexible. Let’s take an aside for a few minutes and look at what we can do with <code>Paths</code> to make our lives easier.</p>
</div>
</section>
<section id="path-components" class="slide level2">
<h2>Path components</h2>
<p>Much like a <code>DataFrame</code> has attributes like <code>.columns</code> and <code>.shape</code>, a <code>Path</code> object also has attributes that can be useful, and these attributes are bassically just the components of a file path. For a really good breakdown of the <code>pathlib</code> module you should check out <a href="https://realpython.com/python-pathlib/">this tutorial</a> (in particular take a look at the ‘Picking out the components of a path’ section). These <code>attributes</code> allow us to pick apart a <code>path</code> so that we can use the bits of it we need. To get a sense of this, in the cell below create a <code>Path</code> to the <code>csv</code> version of the raw data we sent you in week 5 (it should be called ‘raw_data_csv.csv’ and it should be in the ‘data’ sub-folder)</p>
<div id="72126db7" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href=""></a><span class="co">#make your path object on the next line</span></span>
<span id="cb5-2"><a href=""></a></span>
<span id="cb5-3"><a href=""></a>csv_file <span class="op">=</span> pl.Path(<span class="vs">r'/home/kevin/my_projects/ULpsych_programing_club/data/raw_data_spss.sav'</span>)<span class="co">#just paste the path to your file between the ''</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that we have an example path, we can can look at some of the attributes.</p>
<h3 id="name">name</h3>
<p>if we want to get the name of the file or folder that a <code>path</code> points to, we just use the syntax</p>
<pre><code>file_variable.name</code></pre>
<p>In the cell below, try printing out the name of the csv_file variable you made up above.</p>
<div id="a4e78f89" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>'raw_data_spss.sav'</code></pre>
</div>
</div>
<p>Boom.</p>
<p>You’ll notice that the filename also has the <code>.csv</code> extenstion after the name. Obviously if it was an excel workbook the extension would be <code>.xlsx</code> and if it was a jupyter notebook it would be <code>.ipynb</code>. In the context of <code>Path</code> objects, these are called the <code>suffix</code> of a file (folders don’t have <code>suffixes</code>) and you can call them with the syntax</p>
<pre><code>file_variable.suffix</code></pre>
<p>In the cell below, print out the <code>suffix</code> of your file</p>
<div id="576562ed" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>'.sav'</code></pre>
</div>
</div>
<p>Both of these <code>attributes</code> return <code>strings</code> that you can perform all the usual <code>string operations</code> on, and we know how much you love those (honestly, it’s endearing). But we can also also access the <code>path</code> to the folder your file (or subfolder) is in by calling the <code>parent</code>.</p>
<pre><code>file_or_folder.parent</code></pre>
<p>In the cell below, print out the <code>parent</code> of the the csv file</p>
<div id="d525c217" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>PosixPath('/home/kevin/my_projects/ULpsych_programing_club/data')</code></pre>
</div>
</div>
<p>Rather than being a <code>string</code> object, this <code>parent</code> object is also a <code>Path</code> and what is useful about this is we can use some of <code>pathlibs</code> built in functionality to make our lives a little easier.</p>
<p>For example, we can add to an existing path by using <code>syantax</code> that is very similar to <code>string concatenation</code> oniy instead of using <code>+</code> to join to strings together, we can use <code>/</code> (forwardslash) to join a <code>string</code> onto the end of the <code>parent Path</code> for when we want to save a new file in the same folder as an existing file <strong>without overwriting our old file</strong>.</p>
<pre><code>new_file_path = old_file_path.parent / 'new_filename.filetype'</code></pre>
<p>So what we’ve done there is taken the <code>parent folder</code> of our original <code>Path</code> and added a new <code>.name</code> (which includes with <code>suffix</code>). We’ve also saved this as a <code>variable</code> so we can call it if we need it.</p>
<p>We can combine this <code>syntax</code> with the <code>syntax</code> we use to save dataframes</p>
<pre><code>#to save a csv file
dataframe.to_csv(old_file_path.parent/'new_file.csv') # pay close attention to the syntax</code></pre>
<p>In the cell below, try saving <code>movies_df</code> to the <code>parent</code> of the <code>csv_file</code> <code>Path</code>. Take you’re time with it and really think through the syntax example above.</p>
<p>You should see the file show up in the ‘data’ sub-folder of our programming club directory.</p>
<p>You can open it using excel, and you can also view it in vscode. Take a look at it.</p>
<p>When you open up the movies.csv file you might notice that there is an extra column at the start of the dataframe. Like so</p>
<table>
<colgroup>
<col style="width: 2%">
<col style="width: 8%">
<col style="width: 16%">
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 16%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;"></th>
<th style="text-align: right;">Unnamed: 0</th>
<th style="text-align: left;">Participant Name</th>
<th style="text-align: left;">Movie Title</th>
<th style="text-align: left;">Genre</th>
<th style="text-align: right;">Year of Release</th>
<th style="text-align: right;">ImdB Score</th>
<th style="text-align: right;">Rotten Tomatoes Score</th>
<th style="text-align: left;">Gender of Lead</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">John Carpenter</td>
<td style="text-align: left;">The Thing</td>
<td style="text-align: left;">Horror</td>
<td style="text-align: right;">1982</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">82</td>
<td style="text-align: left;">Male</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Nicolas Winding Refn</td>
<td style="text-align: left;">Drive</td>
<td style="text-align: left;">Action</td>
<td style="text-align: right;">2011</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">93</td>
<td style="text-align: left;">Male</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Matthijs van Heijningen</td>
<td style="text-align: left;">The Thing</td>
<td style="text-align: left;">Horror</td>
<td style="text-align: right;">2011</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">34</td>
<td style="text-align: left;">Female</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Dennis Villanueve</td>
<td style="text-align: left;">Arrival</td>
<td style="text-align: left;">Sci-Fi</td>
<td style="text-align: right;">2016</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">94</td>
<td style="text-align: left;">Male</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Coen Brothers</td>
<td style="text-align: left;">No Country for Old Men</td>
<td style="text-align: left;">Drama</td>
<td style="text-align: right;">2007</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">93</td>
<td style="text-align: left;">Female</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">Kelly Asbury</td>
<td style="text-align: left;">Shrek 2</td>
<td style="text-align: left;">Comedy</td>
<td style="text-align: right;">2004</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">89</td>
<td style="text-align: left;">Orgre</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">Edgar Wright</td>
<td style="text-align: left;">Hot Fuzz</td>
<td style="text-align: left;">Comedy</td>
<td style="text-align: right;">2007</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">91</td>
<td style="text-align: left;">Male</td>
</tr>
<tr class="even">
<td style="text-align: right;">7</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Coen Brothers</td>
<td style="text-align: left;">Fargo</td>
<td style="text-align: left;">Dark Comedy</td>
<td style="text-align: right;">1996</td>
<td style="text-align: right;">81</td>
<td style="text-align: right;">94</td>
<td style="text-align: left;">Male</td>
</tr>
</tbody>
</table>
<p>This is the <code>index</code> of the dataframe. Often however, we do not want to save the <code>index</code> when we save a dataset (sometimes we really do) and so we need to use a <code>keyword argument</code> in the <code>df.to_csv()</code> method</p>
<pre><code>df.to_csv(path, index = False)#index is a keyword argument, setting it to false means that the index will not show up as a column in the exported csv</code></pre>
<p>In the cell below save the <code>movies_df</code> again, but this time call it <code>movies_2.csv</code> and set <code>index =False</code>.</p>
<p>Unless you have decided to use a different column as the index (like maybe the participant_id) or you have a <code>multiindex</code> dataframe (look it up, they are cool) you will rarely want to include the <code>index</code> as a column in an exported dataframe, so setting <code>index = False</code> is a reasonable habbit to get into. Other wise, you will always have to <code>drop</code> the first column, or do some kind of <code>iloc</code> selection when you import your cleaned dataframe for analysis.</p>
<p>Now, here comes the big practice bit.</p>
<p>For the rest of this session, we want you to import the SPSS version of the raw data (raw_data_spss.sav) into a pandas dataframe, clean it up (select only the needed columns, clean up any missing or inconsistent data) and then save it to a new csv file, so we can do some simple analysis and charting next week. Remember the the <code>pathlib</code> tricks we just talked about up above when importing and saving the data. We’re going to talk you through some of the specifics that come up when working with SPSS data (you probably don’t need to ask us how we feel about SPSS files…)</p>
</section>
<section id="importing-spss-files." class="slide level2">
<h2>Importing SPSS files.</h2>
<p>Earlier in these series of courses we, introduced you to importing datafiles into <code>pandas DataFrames</code> and we did this mainly with <code>.csv</code> files, but we tricked you into installing the <code>pyreadstat</code> module as well, because this is needed to allow python to read <code>.sav</code> files. Once you have <code>pyreadstat</code> installed in your <code>venv</code> you can just use the simple <code>pd.read_spss(path)</code> to import your dataframe.</p>
<p>We can do this three ways:</p>
<ol type="1">
<li class="fragment">We can create a whole new Path object to our spss file</li>
<li class="fragment">We can use the <code>parent</code> of the <code>csv_file</code> Path with <code>/ 'raw_data_spss.sav'</code></li>
<li class="fragment">We can just copy the path for the spss file and paste it as an <code>r_string</code> into the <code>read_spss()</code> method.</li>
</ol>
<p>Because we have already made a <code>path</code> object, it might be most efficient to just use the parent of that object, but any of those methods will work.</p>
<p>Import the <code>.sav</code> version of the raw data into a dataframe called <code>sdf1</code> below, using whichever method you prefer. Or try it a few times, changing the approach each time, im not your damn boss!</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb15-1"><a href=""></a><span class="in">```{python}</span></span>
<span id="cb15-2"><a href=""></a><span class="in">#import the .sav file into a pandas dataframe in the cell below</span></span>
<span id="cb15-3"><a href=""></a></span>
<span id="cb15-4"><a href=""></a><span class="in">sdf1 = pd.read_spss()# importing the spss data to a pandas df</span></span>
<span id="cb15-5"><a href=""></a><span class="in">sdf1.head()</span></span>
<span id="cb15-6"><a href=""></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="ef1cce29" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display" data-execution_count="22">
<div>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">StartDate</th>
<th data-quarto-table-cell-role="th">EndDate</th>
<th data-quarto-table-cell-role="th">Status</th>
<th data-quarto-table-cell-role="th">IPAddress</th>
<th data-quarto-table-cell-role="th">Progress</th>
<th data-quarto-table-cell-role="th">Duration__in_seconds_</th>
<th data-quarto-table-cell-role="th">Finished</th>
<th data-quarto-table-cell-role="th">RecordedDate</th>
<th data-quarto-table-cell-role="th">ResponseId</th>
<th data-quarto-table-cell-role="th">RecipientLastName</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Q_5</th>
<th data-quarto-table-cell-role="th">Q_6</th>
<th data-quarto-table-cell-role="th">Q_7</th>
<th data-quarto-table-cell-role="th">Q_8</th>
<th data-quarto-table-cell-role="th">Q_9</th>
<th data-quarto-table-cell-role="th">Q_10</th>
<th data-quarto-table-cell-role="th">Q_11</th>
<th data-quarto-table-cell-role="th">FL_12_DO_positive</th>
<th data-quarto-table-cell-role="th">FL_12_DO_negative</th>
<th data-quarto-table-cell-role="th">FL_12_DO_control</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2022-02-02 11:17:34</td>
<td>2022-02-02 11:17:34</td>
<td>Survey Preview</td>
<td>193.1.100.60</td>
<td>100.0</td>
<td>126.0</td>
<td>True</td>
<td>2022-02-02 11:17:34</td>
<td>R_FK38</td>
<td></td>
<td>...</td>
<td>Agree strongly</td>
<td>Agree strongly</td>
<td>Agree strongly</td>
<td>Agree strongly</td>
<td>Agree strongly</td>
<td>Agree strongly</td>
<td>Agree strongly</td>
<td>1.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2022-02-02 11:21:32</td>
<td>2022-02-02 11:21:32</td>
<td>Survey Preview</td>
<td>193.1.100.60</td>
<td>100.0</td>
<td>20.0</td>
<td>True</td>
<td>2022-02-02 11:21:32</td>
<td>R_MV94</td>
<td></td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2022-02-02 11:21:42</td>
<td>2022-02-02 11:21:42</td>
<td>Survey Preview</td>
<td>193.1.100.60</td>
<td>100.0</td>
<td>10.0</td>
<td>True</td>
<td>2022-02-02 11:21:42</td>
<td>R_OT20</td>
<td></td>
<td>...</td>
<td>Agree strongly</td>
<td>Disagree a little</td>
<td>Neither agree or disagree</td>
<td>Disagree moderately</td>
<td>Disagree a little</td>
<td>Disagree a little</td>
<td>Disagree a little</td>
<td>NaN</td>
<td>NaN</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2022-02-09 08:07:06</td>
<td>2022-02-09 08:07:06</td>
<td>Survey Preview</td>
<td>193.1.100.60</td>
<td>100.0</td>
<td>230.0</td>
<td>True</td>
<td>2022-02-09 08:07:06</td>
<td>R_VA79</td>
<td></td>
<td>...</td>
<td>Disagree moderately</td>
<td>Neither agree or disagree</td>
<td>Agree moderately</td>
<td>NaN</td>
<td>Agree strongly</td>
<td>Agree a little</td>
<td>Disagree moderately</td>
<td>1.0</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2022-02-09 08:07:34</td>
<td>2022-02-09 08:07:34</td>
<td>Survey Preview</td>
<td>193.1.100.60</td>
<td>100.0</td>
<td>40.0</td>
<td>True</td>
<td>2022-02-09 08:07:34</td>
<td>R_PW73</td>
<td></td>
<td>...</td>
<td>NaN</td>
<td>Neither agree or disagree</td>
<td>Disagree strongly</td>
<td>Agree a little</td>
<td>Neither agree or disagree</td>
<td>Disagree moderately</td>
<td>Agree a little</td>
<td>NaN</td>
<td>1.0</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows × 33 columns</p>
</div>
</div>
</div>
</div>
<p>Lets take a quick look at the <code>head</code> of <code>sdf1</code>.</p>
<p>Firstly, we can see that, as with all Qualtrics datasets, it contains a lot of extra columns, and because this Qualtrics survey was programmed by a lunatic, obviously living fast with no regard for others, some of the columns are named things like ’Q_5… truly this was made by a monster…</p>
<p>You can also see that the we have some columns (‘Q_1’ to ‘Q_11’) that appear to be likert style scale items, and they appear to have the value labels instead of the values. This might make it difficult to calculate a total score (beacuse we have words where we would need numbers). Let’s tackle these issues one at a time starting with removing the unwanted columns from our dataset.</p>
</section>
<section id="getting-rid-of-unwanted-columns." class="slide level2">
<h2>Getting rid of unwanted columns.</h2>
<p>Depending on what you want to do there are a few ways get rid of columns that you don’t want in your dataset, we can 1. drop the unwanted columns us <code>df.drop()</code> 2. select the wanted columns using <code>.iloc</code> or <code>.loc</code> and which you choose just depends on your needs, your dataset, and your preference. Lets start by looking at <code>df.drop()</code></p>
<h3 id="dropping-columns">Dropping columns</h3>
<p>At this stage it might be pretty clear to you what <code>.drop()</code> does, partly because you’ve already seen the <code>.dropna()</code> method. Both of these methods allow us to just delete rows or columns from our <code>df</code>. With <code>dropna()</code> just we can quickly and easily delete alls rows that contain empty cells, <code>drop()</code> however, allows us to have a lot more control over what we’re doing. In it’s simplest form we use the <code>syntax</code></p>
<pre><code>new_df = df.drop('Column name', axis = 1)# dropping a single column
newer_df = df.drop(['col1', 'col2' ...], axis = 1)# dropping a list of columns</code></pre>
<p>This <code>syntax</code> should be pretty familiar to you, we’re using the <code>.drop()</code> method on our <code>df</code> to <code>return</code> a new <code>df</code> that doesn’t have the columns we dropped in it. <em>Simples!</em></p>
<p>If you want to make the changes to your original <code>df</code> object you just use its name at the start of the <code>syntax</code></p>
<pre><code>df = df.drop('Column name', axis = 1)# dropping a single column *within* the same dataframe</code></pre>
<p>This will overwrite your <code>padas DataFrame</code> but it won’t make changes to the file you imported it from. There will be times when you want to overwrite, and there will be time when you want to make a new <code>df</code>, you’ll develop a sense of which is better. As long as you’re not overwiting you <strong>Raw Data file</strong>, the one you’ve imported you data from originally, it really just depends on what you prefer.</p>
<p>However, knowing the exact name of each column matters. If you get the column name wrong you’ll get an error and so what we might want to do is have a full list of all the columns (and the index number of those columns) <code>for</code>tunately we’ve already shown you a way to <code>loop</code> through this. Go back to the week 3 and week 4 and try to figure out how to print out the index and item <code>for each item in the sdf1.columns list</code>…</p>
<div id="21cc1619" class="cell" data-execution_count="12">
<div class="cell-output cell-output-stdout">
<pre><code>0 = StartDate
1 = EndDate
2 = Status
3 = IPAddress
4 = Progress
5 = Duration__in_seconds_
6 = Finished
7 = RecordedDate
8 = ResponseId
9 = RecipientLastName
10 = RecipientFirstName
11 = RecipientEmail
12 = ExternalReference
13 = LocationLatitude
14 = LocationLongitude
15 = DistributionChannel
16 = UserLanguage
17 = consent
18 = age
19 = Q_1
20 = Q_2
21 = Q_3
22 = Q_4
23 = Q_5
24 = Q_6
25 = Q_7
26 = Q_8
27 = Q_9
28 = Q_10
29 = Q_11
30 = FL_12_DO_positive
31 = FL_12_DO_negative
32 = FL_12_DO_control</code></pre>
</div>
</div>
<p><em>Boom!</em></p>
<p>You might notice that the list is too long to be displayed as output in the jupyter notebook, but there is an option to <code>'Open the full output in a</code> <em>text editor</em>’ just under the code cell. If you click that it’ll show you the full list. With that list now you can use the <code>drop()</code> syntax to get rid of columns that you don’t need and have an easier dataset to work on.</p>
<p>For example, we could use</p>
<pre><code>sdf2 = sdf1.drop('StartDate', axis = 1)</code></pre>
<p>to save a new version of the dataset that doesn’t have the ‘StartDate’ column.</p>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="day2-2Slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="day2-2Slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="day2-2Slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="day2-2Slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="day2-2Slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="day2-2Slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="day2-2Slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="day2-2Slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="day2-2Slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="day2-2Slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>